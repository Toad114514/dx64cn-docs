# Coopdx 汉化版
<table>
  <tr>
    <td colspan="2"><center><img src="../../img/coopdxcn.png"/><br><i>sm64coopdx 汉化版截图</i></center></td>
  </tr>
  <tr>
    <td>名称</td>
    <td>sm64coopdx 汉化版</td>
  </tr>
  <tr>
    <td>别名</td>
    <td>DX汉化版</td>
  </tr>
  <tr>
    <td>作者</td>
    <td><a href="https://github.com/Shangshanruo666">上善若Shangshanruo (简称上善若, Github)</a><br><a herf="https://space.bilibili.com/426046208"/>梅塔的长名字 (b站)</a></td>
  </tr>
  <tr>
    <td>最新版本</td>
    <td><b>1.0 公测 (coopdx 1.3.2)</b></td>
  </tr>
  <tr>
    <td>适用平台</td>
    <td>Windows, Android</td>
  </tr>
  <tr>
    <td>状态</td>
    <td><p style="color: green;">持续更新</p></td>
  </tr>
  <tr>
    <td>仓库</td>
    <td><a href="https://github.com/Shangshanruo666/sm64coopdx-Chinese">https://github.com/Shangshanruo666/sm64coopdx-Chinese (PC)</a><br><a href="https://github.com/Shangshanruo666/sm64coopdx-Chinese-Android">https://github.com/Shangshanruo666/sm64coopdx-Chinese-Android (手机)</a></td>
  </tr>
  <tr>
    <td>官方链接</td>
    <td><a href="https://mtdcmz.github.io/coopdxcn">https://mtdcmz.github.io/coopdxcn/</a></td>
  </tr>
</table>

更适合中国宝宝的coopdx，由国人上善若 fork 的 coopdx，计划支持中文的 coopdx 版本，经历几次大更新过后，1.0 公测版本已经完全支持1000+常见中文字体。
## 特性
 - 有望 6000+ 的中文字体支持
 - 完整菜单汉化体验
 - 支持模组汉化
 - 中文输入法支持
 - PC/安卓 双版本支持且联机互通 (也可与正常coopdx版本联机)
 - 长期更新支持
## 发展
### 起源
25年寒假，上善若正处于退坑 sm64 圈时段，b站用户一直普通的刺猬（早已改名）寻找到上善若要玩coopdx，上善若便热心帮助，教一些关于coopdx的教程。然后在某次教学时发现日语语言，于是想尝试仿照日文做中文（日文字库兼容中文字库，但只能显示部分字），coopdx的汉化便就此开始。
### 发展
上善若开始搞中文汉化，先是完善了中文语言文件，以及中文字库支持。为了能让该项目持续发展，他在b站上发了一些动态并寻找到玩coopdx的人展示成果。接着有一个人发现这个聪明点子之后对上善若十分感谢，并让他加入那佬的qq群。  
当时上善若搞的中文字库过于垃圾，效果不好。但上善若在那qq群里里面认识了梅塔的长名字，梅塔做了一个非常高级的Python脚本，同时生成索引和贴图。这对上善若的汉化事业有着极大的帮助。 
<br> 
之后便开始了一段稳定的开发：

 - **0.4以前：**小字版本汉化
 - **0.4：**大字版本汉化
 - **0.5（梅塔的长名字开发）：**字库开始支持emoji
 - **0.6（梅塔的长名字开发）：**特殊emoji皮肤支持
 - **0.7（上善若开发）：**支持Djui清晰字体、修复翻译错误和字体不整齐的bug

0.7版本完成之后，上善若开始汉化mod，并带动大家搞汉化mod，进一步完善mod汉化生态。此时上善若开始筹备1.0的新字库  
![1.0公测版的设置信息页面](../../img/info-cn.jpg)
<center><i>1.0公测的设置信息页面</i></center>
### 技术瓶颈
0.7版本汉化的字库有一些重要问题，梅塔提供的中文字库生成脚本没有对上大小，导致有很多半透明像素出现，字体一旦放大就会模糊（例如hasdx的提示标题），且当时选用的字体是unifont，导致字体全部重叠再一次，字就变得勉强能认清的程度，这样的技术瓶颈，导致项目搁置几个月没更新。  
之后便攻破技术瓶颈了，当时发现coopdx的字体计算贴图大小为
```
根据贴图宽度\贴图一行的字符数，获取开始的横向像素
行数x（贴图高度\共多少行）获取开始的纵向像素
然后分别加上代码中设定的字符大小
```
上善若后来发现是`纵向像素的计算是字符高度x第几行`，于是便尝试改高度改成了19，加上他自己理解了一些数值，实操之后新字库才问世。  
<br>
与旧字库相比，旧字库单字大小为32x32，整个字库贴图大小为2048x2048，仅能容纳3000多字，新字库帖图大小为1028x2048，已经支持6000多字，包含绝大多数的常见字体。  
接着后面修修补补，完成关于信息页面替换、修复关卡名无法在djui消息栏、CS角色选择模组汉化以及其他字体的汉化支持之后，新版的1.0公测便诞生了。
## 去哪里下载？
!!! warning "警告"
    为控制人群结构和小鬼数量，您可以将该群号/群二维码/官网链接发给其他人让他们自行加入群内下载资源，但：<br>
    **请不要将汉化版本以任何形式进行二次分发！请不要将汉化版本以任何形式进行二次分发！请不要将汉化版本以任何形式进行二次分发！**<br><br>
    除开分享该群号/群二维码/官网链接的二次分发之外，**任何形式的二次传播方法都将禁止！包括但不限于：** 
    <ul>
     <li>视频/直播中分享链接下载</li>
     <li>将资源上传到 7723/虫虫助手 等任何第三方软件分享平台</li>
     <li>任何网盘的分享链接下载</li>
     <li>上传到其他群的群文件内</li>
     <li>任何形式的二次分发</li>
    </ul>
    发现违规者，一律删除资源+踢群处理！<br>
    
加入qq群获取资源：981281124
![qq群](../../img/dxcnqq.png)
